# 開発進捗状況

## 最終更新: 2026-02-12

---

## 実装済み機能

### トップページ (`/`)
- [x] カテゴリタブ切り替え（ベビー/幼児/低学年/高学年）
- [x] 左右スワイプでカテゴリ切り替え
- [x] Framer Motionスライドアニメーション
- [x] ヒーローセクション（グラデーション背景 + 時計アイコン）
- [x] 悩みタグ別セクション表示
- [x] 横型アプリカード（HorizontalAppCard）
- [x] 固定背景画像（モバイル対応: fixed layer方式）
- [x] ボトムナビゲーション
- [x] フローティングアクションボタン
- [x] タグ検索（フィルタリング）機能
  - [x] タグをタップで全カテゴリ横断フィルタリング
  - [x] 「#〇〇 の検索結果」ラベル + 解除ボタン
  - [x] リスト切り替えアニメーション（Framer Motion）
- [x] アプリ投稿モーダル（PostAppModal）
  - [x] フローティングボタンから起動
  - [x] サムネイル画像プレビュー
  - [x] タイトル・URL入力
  - [x] カテゴリ選択（セグメントボタン）
  - [x] 開発のきっかけ（複数行テキスト）
  - [x] タグ選択・カスタムタグ追加
  - [x] 投稿時に紙吹雪演出

### 詳細ページ (`/apps/[slug]`)
- [x] ヒーロー画像（h-80、フル幅）
- [x] 開発者プロフィールカード（bg-orange-50）
- [x] 開発ストーリー（手紙風デザイン: bg-yellow-50 + border-dashed）
- [x] 利用者の声セクション
- [x] 固定フッター（あそぶボタン + ソーシャルプルーフ）
- [x] 戻るボタン

### プレイページ (`/play`)
- [x] URLクエリパラメータで外部アプリURL受け取り
- [x] iframe埋め込み（フルスクリーン）
- [x] 閉じるボタン（ポストプレイ画面を表示）
- [x] ローディング演出（Wakarooロゴウェーブアニメーション）
- [x] 待機ロジック（iframe読み込み完了 + 最低2000ms）
- [x] フェードアウト遷移
- [x] ポストプレイ画面（感想モーダル）
  - [x] 「あそんだよ！」ボタン + 紙吹雪エフェクト
  - [x] 「お気に入り」トグルボタン（ハートアニメーション）
  - [x] 「ホームに戻る」リンク
  - [x] アコーディオン式レビュー入力（おてがみをかく？）
  - [x] 展開アニメーション（Framer Motion）
  - [x] 送信モード切り替え（あそんだよ！↔ おてがみを送る！）

### お気に入りページ (`/favorites`)
- [x] Empty State表示
- [x] ホームへ戻るボタン
- [x] ハートアイコンアニメーション

### イドバタ掲示板 (`/community`)
- [x] 「育児あるあるをシェアしよう」コンセプト
- [x] あるある投稿フォーム（プレースホルダー更新）
- [x] あるあるカードリスト（パステル調グラデーション背景）
- [x] 「わかるー！」ボタン（👋アニメ + 拡張キラキラエフェクト）
- [x] 「この悩みを解決するアプリを作る / 教える」ボタン
- [x] ダミー投稿を「クスッと笑える」あるあるに差し替え
- [x] 悩み解決ループ機能
  - [x] 解決ボタン → アクションメニュー表示
  - [x] 「自分のアプリから選ぶ」オプション（TODO: 一覧実装）
  - [x] 「新しくアプリを投稿する」→ 投稿モーダル連携
  - [x] 投稿モーダルに悩み引用バナー（キラキラ枠線付き）
  - [x] 投稿データにlinkedWorry情報を含める

### マイページ (`/profile`)
- [x] プロフィールカード（アバター中央配置）
- [x] 活動実績3つ横並び表示
  - [x] 🙌 あそんだ: 12回
  - [x] 🚀 投稿: 3件
  - [x] 🧡 わかるー: 156
- [x] 設定メニュー（投稿管理、通知、ヘルプ、ログアウト）

### BottomNav
- [x] 4つのタブ（ホーム、お気に入り、イドバタ、マイページ）
- [x] パスに応じたアクティブ状態の切り替え
- [x] Next.js Linkによるルーティング

### デザイン
- [x] M PLUS Rounded 1c フォント適用
- [x] パステルカラー（オレンジ系）統一
- [x] 絵本風の温かみあるUI
- [x] 共通背景画像（気球＋ストライプ）を全画面に適用
- [x] ヘッダー・カードを半透明化（backdrop-blur）
- [x] カラフルなUnsplash画像（12種類）をサムネイルに適用
- [x] ユーザーアバター画像（柴犬）を設定

### Supabase連携
- [x] `@supabase/supabase-js` 導入
- [x] `src/lib/supabase.ts` クライアント・型定義・データ取得関数
- [x] `apps` テーブル設計（id, title, description, category, author, meta等）
- [x] `worry_tags` マスターテーブル設計
- [x] トップページをSupabaseからのデータ取得に変更
- [x] ローディング表示・エラーハンドリング実装
- [x] 初期データ投入用SQL（`supabase/seed.sql`）
- [x] カテゴリ優先フィルタリング（category → worry_tag_ids の順で絞り込み）

---

## 未実装・検討中の機能

### 機能面
- [ ] ユーザー認証（ログイン/登録）
- [ ] お気に入り保存機能
- [x] ~~検索機能（実際の検索ロジック）~~ → タグフィルタリング実装済み
- [ ] コメント・レビュー投稿機能
- [x] ~~アプリ投稿機能（クリエイター向け）~~ → 投稿モーダル実装済み（ローカルstate）
- [ ] プッシュ通知

### データ面
- [x] ~~バックエンドAPI連携（現在はモックデータ）~~ → Supabase連携実装済み
- [x] ~~データベース設計~~ → apps, worry_tags テーブル設計済み
- [ ] 各アプリ個別の外部URL設定

### デザイン面
- [ ] ダークモード対応
- [ ] アクセシビリティ改善
- [x] ~~ローディングスケルトン~~ → ローディング演出実装済み

---

## 現在の課題

### 高優先度
1. **外部アプリURL**: 現在すべてのアプリが同じURL（clock-study）を開く
   - → 各Postにプレイ用URLを個別設定する必要あり

### 中優先度
2. ~~**画像アセット**: サムネイル画像がプレースホルダー文字のまま~~ → Unsplash画像に刷新済み
3. **PWA対応**: manifest.jsonは存在するがアイコンが404

### 低優先度
4. **SEO最適化**: メタデータの動的生成
5. **パフォーマンス**: 画像最適化（next/image使用検討）

---

## 直近の作業履歴

| 日付 | 作業内容 |
|------|----------|
| 02/12 | Supabase連携実装（apps, worry_tagsテーブル、トップページ対応） |
| 02/12 | ダミー画像をUnsplashのカラフルな画像に刷新、アバター画像追加 |
| 02/11 | 悩み解決ループ機能を実装（イドバタ掲示板→投稿モーダル連携） |
| 02/11 | マイページのステータス表示を3項目横並びに刷新 |
| 02/11 | 共通背景画像を全画面に適用、UI半透明化 |
| 02/11 | イドバタ掲示板を「育児あるある」コンセプトに刷新 |
| 02/11 | お気に入り・イドバタ・マイページを実装、BottomNav更新 |
| 02/11 | アプリ投稿モーダル（PostAppModal）を実装 |
| 02/11 | タグ検索（フィルタリング）機能を実装 |
| 02/11 | ポストプレイ画面をアコーディオン式UIに変更 |
| 02/11 | ポストプレイ画面にレビュー投稿機能追加 |
| 02/11 | ポストプレイ画面追加（あそんだよ＋紙吹雪、お気に入りトグル） |
| 02/11 | プレイページにローディング演出追加（Wakarooロゴウェーブ） |
| 02/11 | .ai_docs フォルダ作成（AI用コンテキスト管理） |
| 02/11 | 丸ゴシック(M PLUS Rounded 1c)導入、絵本風デザイン |
| 02/11 | 詳細画面全面リニューアル |
| 02/11 | プレイページ(/play)作成、iframe埋め込み |
| 02/11 | Framer Motionスライドアニメーション実装 |
| 02/11 | モバイル固定背景対応 |
| 02/11 | GitHubリポジトリ作成・プッシュ |

---

## 次のアクション候補

1. `.env.local` にSupabase接続情報を設定
2. Supabase SQL Editorでテーブル作成・データ投入
3. 各アプリに個別のplayUrlを設定
4. お気に入り機能（Supabase）
5. テキスト検索機能（キーワード検索）
